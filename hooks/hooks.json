{
  "hooks": [
    {
      "event": "PreToolUse",
      "matcher": {
        "toolName": "bash_command",
        "pattern": "gradle.*build"
      },
      "hooks": [
        {
          "type": "command",
          "command": "bash -c 'echo \"ğŸ” Pre-build validation...\"; if [ -f gradle.properties ]; then echo \"âœ… gradle.properties found\"; else echo \"âš ï¸  gradle.properties not found - consider creating one\"; fi'",
          "timeout": 3000,
          "allowFailure": true
        }
      ]
    },
    {
      "event": "PostToolUse",
      "matcher": {
        "toolName": "bash_command",
        "pattern": "gradle.*build"
      },
      "hooks": [
        {
          "type": "command",
          "command": "bash -c 'if [ -d build/reports/tests ]; then echo \"ğŸ“Š Test reports available in build/reports/tests/\"; fi; if [ -d build/libs ]; then echo \"ğŸ“¦ Build artifacts in build/libs/\"; fi'",
          "timeout": 2000,
          "allowFailure": true
        }
      ]
    },
    {
      "event": "PreToolUse",
      "matcher": {
        "toolName": "bash_command",
        "pattern": "gradle.*test"
      },
      "hooks": [
        {
          "type": "command",
          "command": "bash -c 'echo \"ğŸ§ª Running tests...\"; echo \"Tip: Use --tests <pattern> to run specific tests\"'",
          "timeout": 2000,
          "allowFailure": true
        }
      ]
    },
    {
      "event": "PostToolUse",
      "matcher": {
        "toolName": "bash_command",
        "pattern": "gradle.*(check|test)"
      },
      "hooks": [
        {
          "type": "command",
          "command": "bash -c 'if [ -f build/reports/tests/test/index.html ]; then echo \"ğŸ“ Test report: build/reports/tests/test/index.html\"; fi; if grep -r \"FAILED\" build/test-results/test/*.xml 2>/dev/null; then echo \"âŒ Some tests failed - check reports\"; exit 1; fi'",
          "timeout": 5000,
          "allowFailure": true
        }
      ]
    },
    {
      "event": "PreToolUse",
      "matcher": {
        "toolName": "bash_command",
        "pattern": "gradle.*clean"
      },
      "hooks": [
        {
          "type": "command",
          "command": "bash -c 'echo \"ğŸ§¹ Cleaning build directory...\"; if [ -d build ]; then echo \"Build size: $(du -sh build 2>/dev/null | cut -f1)\"; fi'",
          "timeout": 2000,
          "allowFailure": true
        }
      ]
    },
    {
      "event": "Stop",
      "matcher": {},
      "hooks": [
        {
          "type": "command",
          "command": "bash -c 'if [ -f .gradle/gradle.daemon.log ]; then echo \"ğŸ“‹ Gradle daemon log available\"; fi'",
          "timeout": 1000,
          "allowFailure": true
        }
      ]
    }
  ]
}
